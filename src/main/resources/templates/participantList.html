<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/basic.html}">

<div layout:fragment="content">

    <div class="row mt-3">
        <div class="col">

            <form th:action="@{/confirmGrade}" method="post">
                <table class="table">
                    <thead>
                    <tr>
                        <th scope="col">학번</th>
                        <th scope="col">이름</th>
                        <th scope="col">역할</th>
                    </tr>
                    </thead>

                    <tr th:each="participant : ${participants}">
                        <td th:text="${#strings.substring(participant.email, 0, 3)} + '###' + ${#strings.substring(participant.email, participant.email.length() - 2)}"></td>
                        <td th:text="${participant.name}"></td>
                        <td>학생</td>
                    </tr>
                </table>

            </form>


        </div><!-- end col-->
    </div><!-- end row-->
</div>

<script layout:fragment="script" th:inline="javascript">
    function maskEmail(email) {
        // 첫 세 자리와 마지막 두 자리를 남기고 나머지를 마스킹 처리
        var maskedEmail = email.substring(0, 3) + '###' + email.substring(email.length - 2);
        return maskedEmail;
    }
</script>